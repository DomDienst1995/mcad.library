/*
 mcad.library.v1-0 (release) 2016-11-02 
*/
function BufferLoader(a){if(null===a)throw new TypeError("(BufferLoader.BufferLoader) Invalid AudioContext (did you make a typo or forget to create the context?");this.a=a,this.b={},this.c=0}function Mseg(){this.d=[],this.e=[0,0],this.f=0}function Scheduler(a,b){if(null===a)throw new TypeError("(Scheduler.Scheduler) Invalid AudioContext (did you make a typo or forget to create the context?");this.g=60,this.h=4,this.i=4,this.j=0,this.k=.5,this.l=!1,this.m=!1,this.n=this.o(0,0,0),this.p=this.o(0,0,0),this.q={},this.r=.02,this.s=.01,"undefined"!=typeof b&&(b.s&&(this.s=b.s),b.r&&(this.r=b.r),b.k&&(this.k=b.k),b.i&&(this.i=b.i),b.h&&(this.h=b.h),b.g&&(this.g=b.g),this.q={t:b.t,u:b.u,v:b.v}),this.a=a,this.w=null,this.x=null,this.y=0,this.z=null,this.A=this.o(0,0,0),this.B=[],this.C={D:this.E(0,0),F:this.o(0,0,-1)},void this.G()}function Rotary(a,b){this.H=b.I,this.J=a,this.K=b.L,this.M=b.N,this.O=b.P,this.Q=b.R,this.S=b.T,this.U=this.Q,this.V=225,b.W&&(this.V=b.W),this.X=135,b.Y&&(this.X=b.Y),this.Z=360-this.V,this.$=this.Z+this.X,this._=this.Z/this.$,this.aa=this.V,this.ba=0,this.ca=0,$(this.J).da("width",this.M),$(this.J).da("height",this.O),$(this.J).ea("<img></img>"),$(this.J+" img").fa("src",this.K),$(this.J+" img").da("width",this.M),$(this.J+" img").da("height",this.O),$(this.J+" img").da("user-select","none"),this.ga(0),this.ha=0,this.ia=!1;var c,d=this;$(this.J).ja(function(a){a.ka&&a.ka(),a.la&&a.la(),a.ma=!0,a.na=!1,d.ia=!0,d.ha=a.oa}),$(this.J).pa(function(a){d.ia=!1}),$(this.J).qa(function(a){d.ia=!1}),$(this.J).ra(function(a){if(a.ka&&a.ka(),a.la&&a.la(),a.ma=!0,a.na=!1,d.ia){var b=d.ha-a.oa;d.ha=a.oa,d.ga(b)}}),b.sa&&b.sa!==!0||(this.ta=new Hammer($(a)[0]),this.ta.va("rotate").ua({wa:!0}),this.ta.xa("rotatestart",function(a){c=a.ya}),this.ta.xa("rotate",function(a){var b=a.ya-c;d.ga(b),c=a.ya})),b.za&&b.za!==!0||(this.ta.va("pan").ua({Aa:Hammer.Ba}),this.ta.xa("panup pandown",function(a){d.ga(-25*a.Ca)}))}BufferLoader.Ea.Da=function(a,b,c,d){if("undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=1&&void 0,null===b)throw new TypeError("(BufferLoader.loadBufferList) List of samples to load is invalid");this.b[this.c]={},this.b[this.c].Fa={},this.b[this.c].Ga=0,this.b[this.c].Ha=0;for(var e in b)"undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=2&&void 0,this.b[this.c].Fa[e]=b[e],this.b[this.c].Ha++;this.Ia(a,this.c++,c,d)},BufferLoader.Ea.Ia=function(a,b,c,d){"undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=1&&void 0;var e=this.b;for(var f in e[b].Fa)"undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=1&&void 0,this.Ja({Ka:e[b].Fa[f],La:f},function(f,g){a[g.La]=f,d&&d({Ka:g.Ka,La:g.La,Ma:!!f}),++e[b].Ga>=e[b].Ha&&("undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=1&&void 0,"undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=2&&void 0,delete e[b],c())})},BufferLoader.Ea.Ja=function(a,b){if("undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=1&&void 0,null===a)throw new TypeError("(BufferLoader.loadBuffer) Sample resource to load is invalid");var c,d=this;c="string"==typeof a||a instanceof String?a:a.Ka;var e=new XMLHttpRequest;e.Na("GET",c,!0),e.Oa="arraybuffer",e.Pa=function(){d.a.Qa(e.Ra,function(c){"undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=1&&void 0,b(c,a)},function(){b(null,a)})},e.Sa()},Mseg.Ea.Ta=function(a){var b=a.Ua,c=a.Va,d=0;a.Wa&&(d="linear"==a.Wa?0:1),this.d.Xa(new Array(b,c,d)),this.f+=a.Ua},Mseg.Ea.Ya=function(a){var b=0;a.Wa&&(b="linear"==a.Wa?0:1),this.e=new Array(a.Ua,b)},Mseg.Ea.Za=function(a,b,c){var d=0;c&&c.$a&&(d=c.$a),0===this.e[1]?a._a(d,b+this.e[0]):a.ab(d,b+this.e[0])},Mseg.Ea.bb=function(){return this.e[0]},Mseg.Ea.cb=function(a,b,c){a.db(b),a.eb(a.Va,b);var d=0,e=0,f=1;c&&(c.$a&&(e=c.$a),c.fb&&(f=c.fb));for(var g=0;g<this.d.gb;g++){var h=mcad.hb(this.d[g][1],e,f),i=b+d+this.d[g][0];0===this.d[g][2]?a._a(h,i):a.ab(h,i),d+=this.d[g][0]}},Mseg.Ea.ib=function(a,b,c){a.db(b),a.eb(a.Va,b),this.e[0]>0&&this.Za(a,b,c)},Mseg.Ea.jb=function(a,b,c,d){this.cb(a,b,d),this.e[0]>0&&this.Za(a,b+c)},Scheduler.Ea.kb=function(){var a=this.a.lb;for(a-=this.z;this.y<a+this.r;){var b=this.y+this.z,c=b,d=this.mb(),e=this.j*this.k*d;this.A.nb%2&&(c+=e);var f=this.E(b,c);this.B.Xa({D:this.ob(f),F:this.pb(this.A)}),this.q.t&&this.q.t({D:this.ob(f),F:this.pb(this.A)}),"undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=2&&void 0,this.qb()}var g=this;this.w=setTimeout(function(){g.kb()},1e3*this.s)},Scheduler.Ea.qb=function(){var a=60/this.g;this.A.nb++,this.rb(this.A),this.y+=1/this.h*a},Scheduler.Ea.G=function(){for(var a=this.C,b=this.a.lb;this.B.gb&&this.B[0].D.j<b;)a=this.B[0],this.B.sb(0,1);this.tb(b),this.C.F.nb!=a.F.nb&&(this.n=this.pb(a.F),this.ub(this.n,1),this.q.u&&this.q.u(this.pb(a.F),this.pb(this.C.F)),this.C=a,"undefined"!=typeof MCAD_DEBUG&&MCAD_DEBUG>=1&&void 0);var c=this;this.x=requestAnimationFrame(function(){c.G()})},Scheduler.Ea.tb=function(a){var b=0;if(this.C.F.nb>=0&&this.l){var c=this.mb(),d=a-this.C.D.vb,e=d/c,f=this.C.F.wb+e,g=this.xb();b=f/g}else this.m?(pause=this.pb(this.n),this.ub(pause,-1),b=pause.wb/this.xb()):b=0;this.q.v&&this.q.v(b)},Scheduler.Ea.xb=function(){return this.h*this.i},Scheduler.Ea.yb=function(a){this.l===!0&&this.zb(),this.l=!0,this.y=0,this.z=this.a.lb,a?this.A=this.pb(this.Ab):this.m?this.A=this.pb(this.n):this.A=this.o(0,0,0),this.C={D:this.E(this.a.lb,this.a.lb),F:this.o(0,0,-1)},this.kb()},Scheduler.Ea.Bb=function(){this.l=!1,clearTimeout(this.w),this.p=this.pb(this.C.F),this.n=this.pb(this.p),this.ub(this.n,1)},Scheduler.Ea.mb=function(){return 60/this.g*(1/this.h)},Scheduler.Ea.pb=function(a){var b={Cb:a.Cb,Db:a.Db,nb:a.nb,wb:a.wb,Eb:a.Eb};return b},Scheduler.Ea.o=function(a,b,c){var d={Cb:a,Db:b,nb:c};return this.rb(d),d},Scheduler.Ea.rb=function(a){var b=a.nb+a.Cb*this.xb()+a.Db*this.h;b<0?a={nb:-1,Cb:0,Db:0,wb:0,Eb:-1}:(a.Cb=Math.Fb(b/this.xb()),b-=a.Cb*this.xb(),a.Db=Math.Fb(b/this.h),b-=Math.Fb(a.Db*this.h),a.nb=b,a.wb=a.Db*this.h+a.nb,a.Eb=a.Cb*this.xb()+a.wb)},Scheduler.Ea.ub=function(a,b){a.nb+=b,this.rb(a)},Scheduler.Ea.ob=function(a){var b={vb:a.vb,j:a.j};return b},Scheduler.Ea.E=function(a,b){var c={vb:a,j:b};return c},Rotary.Ea.Gb=function(a){this.ca=a,this.ca<this._?this.aa=this.ca*this.$+360-this.Z:this.aa=this.ca*this.$-this.Z,this.ga(0)},Rotary.Ea.Hb=function(a){this.Gb(mcad.Ib(a,this.Q,this.S))},Rotary.Ea.Jb=function(a){return this.ca},Rotary.Ea.Kb=function(a){return this.U},Rotary.Ea.ga=function(a){var b,c=this.aa,d=a;this.aa>180?(b=this.aa-180,d<-b&&(d=-b)):(b=180-this.aa,d>b&&(d=b)),c+=d,c>=359?c=0:c<0&&(c=360+c),this.aa=c,this.aa>this.X&&this.aa<this.V&&(this.aa>180?1==this.ba?this.aa=this.V:this.aa=this.X:1==this.ba?this.aa=this.V:this.aa=this.X),this.aa<0&&(this.aa=0),this.aa>360&&(this.aa=360),this.aa>180?(this.ca=(this.aa+this.Z-360)/this.$,this.ba=1):(this.ca=(this.Z+this.aa+.5)/this.$,this.ba=2),this.ca>1&&(this.ca=1),this.ca<0&&(this.ca=0),this.U=mcad.hb(this.ca,this.Q,this.S),$(this.J).da("transform","rotate("+this.aa+"deg)"),this.H(this.U.Lb(0),this.ca.Lb(2))};var mcad={hb:function(a,b,c){return b+(c-b)*a},Ib:function(a,b,c){return(a-b)/(c-b)},Mb:function(a){return 2*a-1},Nb:function(a){return(a+1)/2},Ob:function(a,b,c){return this.hb(this.Nb(a),b,c)},Pb:function(a,b,c){return this.Mb(this.Ib(a,b,c))},Qb:function(a,b,c){var d=Math.Rb(b),e=Math.Rb(c),f=e-d;return Math.Sb(f*a+d)},Tb:function(a,b,c){var d=Math.Rb(b),e=Math.Rb(c),f=e-d;return(Math.Rb(a)-d)/f},Ub:function(a){f_0=440,MidA=69;var b=a-MidA,c=Math.Vb(2,1/12);return f_0*Math.Vb(c,b)}};